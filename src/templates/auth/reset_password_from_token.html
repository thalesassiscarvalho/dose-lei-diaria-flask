{% extends "base.html" %}

{% block title %}Redefinir Sua Senha{% endblock %}

{% block content %}
<div class="max-w-md mx-auto mt-12 bg-white border border-gray-200 shadow-lg rounded-lg p-8 card-hover fade-in-up login-container">
    <h1 class="text-3xl font-bold text-center mb-8" style="color: #2563eb;">Crie uma Nova Senha</h1>
    
    <form method="POST" action="{{ url_for('auth.reset_with_token', token=token) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="mb-4">
            <label for="new_password" class="block text-brand-text text-sm font-bold mb-2">Nova Senha:</label>
            <input type="password" id="new_password" name="new_password" required 
                   class="shadow-sm appearance-none border rounded w-full py-3 px-4 text-brand-text leading-tight focus:outline-none focus:border-transparent form-input-focus">
        </div>
        
        <div class="mb-6">
            <label for="confirm_password" class="block text-brand-text text-sm font-bold mb-2">Confirmar Nova Senha:</label>
            <input type="password" id="confirm_password" name="confirm_password" required 
                   class="shadow-sm appearance-none border rounded w-full py-3 px-4 text-brand-text leading-tight focus:outline-none focus:border-transparent form-input-focus">
        </div>
        
        <div class="text-center mt-8">
            <button type="submit" class="w-full text-white font-bold py-3 px-4 rounded focus:outline-none transition duration-300 text-lg btn-transition"
                    style="background-color: #2563eb; border: none;">
                Salvar Nova Senha
            </button>
        </div>
    </form>
</div>

<style>
@media (min-width: 769px ) {
    body { background-image: url('{{ url_for("static", filename="backgroundlogin.webp") }}'); background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed; min-height: 100vh; }
    body::before { content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.30); z-index: -1; }
    .login-container { background: rgba(255, 255, 255, 0.95) !important; backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.3) !important; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important; }
    header, nav { background: rgba(37, 99, 235, 0.95) !important; backdrop-filter: blur(10px); }
}
@media (max-width: 768px) {
    body { background-color: #2D68EB; min-height: 100vh; }
    body::before { content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.0); z-index: -1; }
    .login-container { background: rgba(255, 255, 255, 0.95) !important; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3) !important; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important; margin: 10px; margin-top: 2rem; }
    header, nav { background: rgba(37, 99, 235, 0.95) !important; backdrop-filter: blur(10px); }
}
.form-input-focus:focus { background: rgba(255, 255, 255, 0.98); box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.3), 0 4px 12px rgba(0, 0, 0, 0.1); }
.btn-transition { box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3); transition: all 0.3s ease; }
.btn-transition:hover { background-color: #1d4ed8 !important; transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4); }
.fade-in-up { animation: fadeInUp 0.6s ease-out; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}